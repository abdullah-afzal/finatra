
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Finatra Basics &#8212; Finatra 24.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/flasky.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Understanding the Codebase" href="framework.html" />
    <link rel="prev" title="User’s Guide" href="../index.html" />
   
  
  <link media="only screen and (max-device-width: 480px)" href="../../_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-39101739-4', 'twitter.github.io');
    ga('send', 'pageview');

  </script>

  </head><body>
  
  

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="framework.html" title="Understanding the Codebase"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="User’s Guide"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">Finatra</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">User’s Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Finatra Basics</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="finatra-basics">
<span id="basics"></span><h1>Finatra Basics<a class="headerlink" href="#finatra-basics" title="Permalink to this headline">¶</a></h1>
<p>At a high level, you can think of your Finatra app or server as a container. This container has a <a class="reference external" href="../getting-started/lifecycle.html">lifecycle</a> and some “state”. This state includes <a class="reference external" href="../getting-started/flags.html">Flags</a> and <a class="reference external" href="../getting-started/modules.html">Modules</a> which help to create an <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> that provides access to an <a class="reference external" href="../getting-started/dependency_injection.html#why-use-the-object-graph">object graph</a>.</p>
<p>The <a class="reference external" href="../getting-started/lifecycle.html">lifecycle</a> defines an order of operations for container startup, running, and shutdown that allows for you to hook into phases as necessary to ensure the proper initialization or teardown of your container.</p>
<img alt="../../_images/basics.png" src="../../_images/basics.png" />
<p><a class="reference external" href="../getting-started/flags.html">Flags</a> are constructs that allow your container to accept and parse command-line input in a type-safe manner which can be used to help configure container resources (like database connections, or network clients, etc). <a class="reference external" href="../getting-started/flags.html">Flags</a> are parsed at a <a class="reference external" href="../getting-started/flags.html#when-are-flags-parsed">specific point in the container lifecycle</a>, so it is important to take care in how/when they are accessed with the recommended way being to always access parsed values <a class="reference external" href="../getting-started/flags.html#id3">via injection</a>.</p>
<p><a class="reference external" href="../getting-started/modules.html">Modules</a> are used to help the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> create instances (typically of code that <a class="reference external" href="../getting-started/modules.html#defining-modules">is not your own</a>) to keep in the <a class="reference external" href="../getting-started/dependency_injection.html#why-use-the-object-graph">object graph</a>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is not always necessary to create a <a class="reference external" href="../getting-started/modules.html">Module</a> since the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> will recursively try to satisfy <cite>&#64;Inject</cite>-annotated constructors for a requested type from the object graph, instantiating each constructor argument, all the way back to something with a no-arg constructor.</p>
<p><a class="reference external" href="../getting-started/modules.html">Modules</a> are only necessary to help the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> instantiate types that it cannot otherwise instantiate on its own. With the most common case being needing to instantiate instances of code that require external configuration via <a class="reference external" href="../getting-started/flags.html">Flags</a>.</p>
</div>
<p>Your container’s list of <a class="reference external" href="../getting-started/modules.html">modules</a> should be <a class="reference external" href="../getting-started/modules.html#module-configuration-in-servers">defined</a> statically such that they can be used to create the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> at the appropriate point in the container <a class="reference external" href="../getting-started/lifecycle.html">lifecycle</a>. <a class="reference external" href="../getting-started/dependency_injection.html">Dependency injection</a> provides best-practice mechanisms (like using <a class="reference external" href="../testing/override_modules.html">override modules</a> or the <a class="reference external" href="../testing/bind_dsl.html">#bind[T] DSL</a> in testing) which can be used to swap out implementations of types in the object graph such that you <strong>should not have a situation where you need to define a different list of modules in the production code based on a conditional</strong>.</p>
<p>It is an anti-pattern if your are chaging the list of modules based on some conditional – <em>especially, if the conditional is defined by external configuration</em>.</p>
<p>Lastly, your logic can then request instances of types from the <a class="reference external" href="https://github.com/twitter/finatra/blob/develop/inject/inject-core/src/main/scala/com/twitter/inject/Injector.scala">Injector</a> or via <a class="reference external" href="../dependency_injection.html#use-constructor-injection">constructor injection</a>. The goal of <a class="reference external" href="../dependency_injection.html#dependency-injection-best-practices">using dependency injection</a> is to make it easier to <a class="reference external" href="./index.html#testing">write robust tests</a> for your container.</p>
<p>More information and details are provided in the following sections.</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/finatra_logo.png" alt="Logo"/>
            </a></p><p>
  <a href="https://github.com/twitter/finatra">Finatra</a> is a Scala services framework built on top of <a href="https://twitter.github.io/twitter-server/">TwitterServer</a> and <a href="https://twitter.github.io/finagle/">Finagle</a>.
</p>

<h3>Useful Links</h3>
<ul>
  <li><a href="https://twitter.github.io/finatra/user-guide">User's&nbsp;Guide</a></li>
  <li><a href="https://finagle.github.io/blog/">Finagle&nbsp;Blog</a></li>
  <li><a href="https://github.com/twitter/finatra">Finatra&nbsp;on&nbsp;Github</a></li>
  <li><a href="https://github.com/twitter/finatra/issues">Github&nbsp;Issues</a></li>
</ul><h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">User’s Guide</a><ul>
      <li>Previous: <a href="../index.html" title="previous chapter">User’s Guide</a></li>
      <li>Next: <a href="framework.html" title="next chapter">Understanding the Codebase</a></li>
  </ul></li>
  </ul></li>
</ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Search the contents of this site.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  
    <div class="github-fork-ribbon-wrapper right fixed" style="width: 150px;height: 150px;position: fixed;overflow: hidden;top: 0;z-index: 9999;pointer-events: none;right: 0;"><div class="github-fork-ribbon" style="position: absolute;padding: 2px 0;background-color: #900;background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.15));-webkit-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);-moz-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.5);z-index: 9999;pointer-events: auto;top: 42px;right: -43px;-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg);transform: rotate(45deg);"><a target="_blank" href="https://github.com/twitter/finatra" style="font: 700 13px &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color: #fff;text-decoration: none;text-shadow: 0 -1px rgba(0, 0, 0, 0.5);text-align: center;width: 200px;line-height: 20px;display: inline-block;padding: 2px 0;border-width: 1px 0;border-style: dotted;border-color: rgba(255, 255, 255, 0.7);">Fork me on GitHub</a></div></div>
  

  <div class="footer">
    &copy; Copyright 2024 Twitter, Inc.
    Created using <a href="http://sphinx.pocoo.org/">Sphinx</div>
  
  </body>
</html>